# Build NodeJS Express app using Azure Pipelines
# https://docs.microsoft.com/azure/devops/pipelines/languages/javascript?view=vsts
pool:
  vmImage: 'Ubuntu 16.04'
  
steps:
- task: NodeTool@0
  inputs:
    versionSpec: '10.8.0'
  
- script: |
    sudo add-apt-repository ppa:ubuntu-toolchain-r/test
    sudo apt-get update -y
    sudo apt-get upgrade -y
    sudo apt-get install -y build-essential g++
    sudo apt-get install -y g++-4.8
    sudo apt-get install libtool pkg-config build-essential autoconf automake
    sudo apt-get install -y libzmq-dev
    export CXX="g++-4.8"
    gcc -v
    #npm i -g npm@6.2.0
    # sudo npm install zmq -g --unsafe-perm=true --allow-root 
    # npm install -g node-gyp
    #npm install yarn -g
    #yarn
    
